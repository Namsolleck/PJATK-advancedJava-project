<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Szczegóły Gry</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-white">
<div class="container mt-4">
    <a href="/dashboard" class="btn btn-outline-secondary mb-3">← Powrót</a>

    <div class="p-5 mb-4 bg-light rounded-3 shadow-sm border">
        <h1 class="display-5 fw-bold" th:text="${game.name}">Undertale</h1>
        <p class="fs-4">ID: <span th:text="${game.externalId}"></span></p>
    </div>

    <div th:each="category : ${game.categories}" class="mb-5">
        <h3 class="border-bottom pb-2 text-primary" th:text="${category.name}">Any%</h3>

        <div class="table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th>Miejsce</th>
                    <th>Gracz</th>
                    <th>Czas (s)</th>
                    <th>Platforma</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="run, iterStat : ${category.runs}">
                    <td th:text="${iterStat.count}">1</td>
                    <td class="fw-bold" th:text="${run.user != null ? run.user.username : 'Gość'}">Gracz</td>
                    <td th:text="${run.timeSeconds}">3600.5</td>
                    <td th:text="${run.platform != null ? run.platform.name : 'Nieznana'}">PC</td>
                </tr>
                <tr th:if="${#lists.isEmpty(category.runs)}">
                    <td colspan="4" class="text-center text-muted">Brak zaimportowanych wyników dla tej kategorii</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>